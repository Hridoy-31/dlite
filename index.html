<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>dlite: DLite - lightweight data-centric framework for working with scientific data</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">dlite
   &#160;<span id="projectnumber">0.2.2</span>
   </div>
   <div id="projectbrief">Lightweight library for working with scientific data</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">DLite - lightweight data-centric framework for working with scientific data </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<object type="image/svg+xml" data="https://github.com/sintef/dlite/workflows/CI%20tests/badge.svg" alt="CI tests"></object>
</div>
<p>DLite is a small cross-platform C library under development, for working with and sharing scientific data in an interoperable way. It is strongly inspired by <a href="https://stash.code.sintef.no/projects/SOFT/repos/soft5/">SOFT</a>, with the aim to be a lightweight replacement in cases where Windows portability is a showstopper for using SOFT.</p>
<p>DLite shares the <a href="https://github.com/NanoSim/Porto/blob/porto/Preview-Final-Release/doc/manual/02_soft_introduction.md#soft5-features">metadata model of SOFT5</a> and is compatible with SOFT5 in many respects. However, it has also some notable differences, mainly with respect to the type system and that it fully implements the metadata model envisioned in SOFT5. See <a class="el" href="md_doc_concepts.html">Concepts</a> for details.</p>
<p>DLite is licensed under the MIT license.</p>
<h2>Main features </h2>
<ul>
<li>Enables semantic interoperability via simple formalised metadata and data</li>
<li>Metadta can be linked to or generated from ontologies</li>
<li>Code generation</li>
<li>Plugin API for data storages</li>
<li>Plugin API for mapping between metadata</li>
<li>Bindings to C, Python (Fortran is in progress)</li>
</ul>
<h2>More detailed features </h2>
<ul>
<li>Simple and structured way to represent data as a set of named properties within and between software</li>
<li>Simple type system where data type are specified as a basic type and size Supported basic types includes:<ul>
<li>binary blob (any size)</li>
<li>boolean (system-dependent size, typically 8 bits)</li>
<li>integer (8, 16, 32, 64 bits)</li>
<li>unsigned integer (8, 16, 32, 64 bits)</li>
<li>float (32, 64, [80, 128] bits)</li>
<li>fixed string (any size, always NUL-terminated)</li>
<li>string pointer (pointer to malloc'ed string, NUL-terminated)</li>
<li>relation (subject-predicate-object triplet)</li>
<li>dimension (only intended for metadata)</li>
<li>property (only intended for metadata)</li>
</ul>
</li>
<li>Supports units and multi-dimensional arrays</li>
<li>Fully implemented metadata model as presented by Thomas Hagelien</li>
<li>Builtin HDF5, JSON, YAML and PostgreSQL storage plugins</li>
<li>Plugin system for user-provided storage drivers</li>
<li>Memory for metadata and instances is reference counted</li>
<li>Lookup of metadata and instances at pre-defined locations (initiated from the DLITE_STORAGES environment variable)</li>
<li>Template-based code generation (includes templates for C, Fortran templates are planned)</li>
<li>Plugin system for mappings that maps instances of a set of input metadata to an output instance</li>
<li>Python bindings</li>
<li>Storage and mapping plugins written in Python</li>
<li>Fortran bindings (work in progress...)</li>
</ul>
<h2>Short vocabulary </h2>
<ul>
<li><b>Basic metadata schema</b>: Toplevel meta-metadata which describes itself.</li>
<li><b>Collection</b>: A specialised instance that contains references to set of instances and relations between them. Within a collection instances are labeled. See also the <a href="https://confluence.code.sintef.no/display/SOFT/Nomenclature">SOFT5 nomenclauture</a>.</li>
<li><b>Data instance</b>: A "leaf" instance that is not metadata.</li>
<li><b>Entity</b>: A special type of metadata that describes standard data instances. This is different from SOFT5 where entities are the fundamental metadata.</li>
<li><b>Instance</b>: The basic data object in DLite. All instances are described by their metadata which itself are instances. Instances are identified by an UUID.</li>
<li><b>Mapping</b>: A function that maps one or more input instances to an output instance. They are an important mechanism for interoperability. Mappings are called translators in SOFT5.</li>
<li><b>Metadata</b>: a special type of instances that describe other instances. All metadata are immutable and has an unique URI in addition to their UUID.</li>
<li><b>Meta-metadata</b>: metadata that describes metadata.</li>
<li><b>Relation</b>: A subject-predicate-object triplet with an id. Relations are immutable.</li>
<li><b>Storage</b>: A generic handle encapsulating actual storage backends.</li>
<li><b>Transaction</b>: A not yet implemented feature, that enables to represent the evolution of the state of a software as a series of immutable instances. See also the <a href="https://confluence.code.sintef.no/display/SOFT/Nomenclature">SOFT5 nomenclauture</a>.</li>
</ul>
<h1>Download and build </h1>
<h2>Quick start with VS Code and Remote Container </h2>
<p>Using Visual Studio Code it is possible to do development on the system defined in Dockerfile.</p>
<ol type="1">
<li>Download and install <a href="https://code.visualstudio.com/">Visual Studio Code</a>.</li>
<li>Install the extension <b>Remote Development</b>.</li>
<li>Clone <em>dlite</em> and initialize git modules: <code>git submodule update --init</code>.</li>
<li>Open the <em>dlite</em> folder with VS Code.</li>
<li>Start VS Code, run the <em>Remote-Containers: Open Folder in Container...</em> command from the Command Palette (F1) or quick actions Status bar item. This will build the container and restart VS Code in it. This may take some time the first time as the Docker image must be built. See <a href="https://code.visualstudio.com/docs/remote/containers#_quick-start-open-an-existing-folder-in-a-container">Quick start: Open an existing folder in a container</a> for more information and instructions.</li>
<li>In the container terminal, perform the first build and tests with <code>mkdir /workspace/build; cd /workspace/build; cmake ../dlite; make &amp;&amp; make test</code>.</li>
</ol>
<h2>Docker container </h2>
<p>A docker containiner can be found on <a href="https://github.com/SINTEF/dlite/packages">https://github.com/SINTEF/dlite/packages</a>.</p>
<h2>Runtime dependencies </h2>
<ul>
<li><a href="https://support.hdfgroup.org/HDF5/">HDF5</a>, optional (needed by HDF5 storage plugin)</li>
<li><a href="http://www.digip.org/jansson/">Jansson</a>, optional (needed by JSON storage plugin)</li>
<li><a href="https://www.python.org/">Python 3</a>, optional (needed by Python bindings and some plugins)<ul>
<li><a href="https://pypi.org/project/numpy/">NumPy</a>, required if Python is enabled</li>
<li><a href="https://pypi.org/project/PyYAML/">PyYAML</a>, optional (used for generic YAML storage plugin)</li>
<li><a href="https://pypi.org/project/psycopg2/">psycopg2</a>, optional (used for generic PostgreSQL storage plugin)</li>
</ul>
</li>
</ul>
<h2>Build dependencies </h2>
<ul>
<li><a href="https://cmake.org/">cmake</a>, required for building</li>
<li>hdf5 development libraries, optional (needed by HDF5 storage plugin)</li>
<li>Jansson development libraries, optional (needed by JSON storage plugin)</li>
<li>Python 3 development libraries, optional (needed by Python bindings)</li>
<li>NumPy development libraries, optional (needed by Python bindings)</li>
<li><a href="http://www.swig.org/">SWIG v3</a>, optional (needed by building Python bindings)</li>
<li><a href="http://www.doxygen.org/">Doxygen</a>, optional, used for documentation generation</li>
<li><a href="http://valgrind.org/">valgrind</a>, optional, used for memory checking (Linux only)</li>
<li><a href="http://cppcheck.sourceforge.net/">cppcheck</a>, optional, used for static code analysis</li>
</ul>
<h2>Download </h2>
<p>Download DLite with git, using </p><pre class="fragment">git clone ssh://git@git.code.sintef.no/sidase/dlite.git
</pre><p>To initialize the minunit submodule, you may also have to run </p><pre class="fragment">git submodule update --init
</pre><h2>Building </h2>
<h2>Build on Microsoft Windows</h2>
<pre class="fragment">1. Install a recent version of cmake https://cmake.org/download/
2. Install Visual Studio 14 2015 or Visual Studio 15 2017 with the
   C/C++ components

3. Prepare a directory structure for DLite and 3rd party libraries:
   1. Select a root folder to create the directory structure
      (e.g. "C:\" or "C:\Users\{username}\Documents\")
    2. Create the following directory: {root}\local
    3. Clone the DLite repository in the root folder, folder
           {root}\dlite will be created.
4. Download hdf5 library archive from
   https://support.hdfgroup.org/ftp/HDF5/current/src/
5. Make a copy of the file {root}\dlite\bootstrap-win.sh into the root
   folder
6. Edit the copy of bootstrap-win.sh in the root folder:
    1. Modify the variable CMAKE_PATH to the path of cmake directory
    2. Modify the variable ROOT_PATH to your root folder
    3. Modify the variable PYTHON_EXECUTABLE to Python version 3.x
       executable
    4. Check the version number of hdf5 library
    5. To build in Win64 mode, add '-G "Visual Studio 15 Win64"' after
       cmake command when generating the solution (not building)
7. Open a git-bash window:
    1. Change the directory to your root folder
    2. Type `sh bootstrap-win.sh` and press enter
8. Open the file {root}\dlite\build\dlite.sln in Visual Studio
9. In Visual Studio:
    1. Select the solution configuration "Debug", then build the
       solution (Menu Build -&gt; Build solution)
    2. Select the solution configuration "Release", then build the
       solution (Menu Build -&gt; Build solution)

To run the tests, do

    ctest -C Debug


Summary to build and install DLite when hdf5 and jansson lib are installed
in the given path LOCAL_DIR

    LOCAL_DIR=/C/Users/tco/Documents/Programs/philib/local
    PATH=$PATH:$LOCAL_DIR/bin
    cd dlite
    mkdir build &amp;&amp; cd build
    cmake -G "Visual Studio 14 2015 Win64" -DHDF5_DIR=$LOCAL_DIR/cmake/hdf5 -DJANSSON_ROOT=$LOCAL_DIR/ -DCMAKE_INSTALL_PREFIX=$LOCAL_DIR/ ..
    cmake --build . --config Debug --target doc
    cmake --build . --config Debug --target install
    cmake --build . --config Release --target install
    ctest -C Debug
    ctest -C Release</pre><h2>Build on Linux</h2>
<p>If hdf5 is not installed (does not include the parallel component): </p><pre class="fragment">sudo apt-get install libhdf5-serial-dev
</pre><p>If JANSSON is not installed: </p><pre class="fragment">sudo apt-get install libjansson-dev
</pre><p>Build with: </p><pre class="fragment">mkdir build
cd build
cmake ..
make
</pre><p>Before running make, you may wish to configure some options with <code>ccmake ..</code></p>
<p>For example, you might need to change (using e.g. cmake-gui) CMAKE_INSTALL_PREFIX to a location accessible for writing. Default is ~/.local</p>
<p>To run the tests, do </p><pre class="fragment">make test        # same as running `ctest`
make memcheck    # runs all tests with memory checking (requires
                 # valgrind)
</pre><p>To generate code documentation, do </p><pre class="fragment">make doc         # direct your browser to build/doc/html/index.html
</pre><p>To install dlite locally, do </p><pre class="fragment">make install
</pre><hr/>
<p>DLite is developed with the hope that it will be a delight to work with. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
